# Source: https://gist.github.com/ChrisWills/1337178

# Fix extraneous underlining in jest output
attrcolor d -d

# Allow bold colors - necessary for some reason
attrcolor b ".I"

# Tell screen how to set colors. AB = background, AF=foreground
termcapinfo xterm 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'

# Enables use of shift-PgUp and shift-PgDn
termcapinfo xterm* ti@:te@

termcapinfo xterm* 'hs:ts=\E]2;:fs=07:ds=\E]2;screen07'

# Erase background with current bg color
defbce "on"

# Enable 256 color term
term xterm-256color

# Cache 30000 lines for scroll back
defscrollback 30000

hardstatus alwayslastline
# Very nice tabbed colored hardstatus line
hardstatus string '%{= Kd} %{= Kd}%-w%{= Kr}[%{= KW}%n %t%{= Kr}]%{= Kd}%+w %-= %{KG} %H%{KW}|%{KY}%101`%{KW}|%D %M %d %Y%{= Kc} %C%A%{-}'

# change command character from ctrl-a to ctrl-b (emacs users may want this)
#escape ^Bb
exit

# Hide hardstatus: ctrl-a f
bind f eval "hardstatus ignore"
# Show hardstatus: ctrl-a F
bind F eval "hardstatus alwayslastline"

# CUSTOM:

screen -t "Welcome" bash --noprofile --norc
stuff "./welcome-page.sh\n"

screen -t "Server" bash --noprofile --norc
stuff "cd ../src/server && npm run start-dev\n"

screen -t "iOS" bash --noprofile --norc
stuff "cd ../src/mobile && npm run ios\n"

screen -t "Android" bash --noprofile --norc
stuff "cd ../src/mobile && npm run android\n"

screen -t "Postgres" bash --noprofile --norc
stuff "psql -d jumbosmash -U jumbosmashdev\n"

select Welcome
