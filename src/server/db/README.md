# Database Schema
_NOTE_: this file is autogenerated using `npm run get-db-schema`


```
                                                      Table "public.users"
      Column       |  Type   | Collation | Nullable |              Default               | Storage  | Stats target | Description 
-------------------+---------+-----------+----------+------------------------------------+----------+--------------+-------------
 id                | integer |           | not null | nextval('users_id_seq1'::regclass) | plain    |              | 
 utln              | citext  |           | not null |                                    | extended |              | 
 email             | citext  |           | not null |                                    | extended |              | 
 successful_logins | integer |           | not null | 1                                  | plain    |              | 
 want_he           | boolean |           | not null | false                              | plain    |              | 
 want_she          | boolean |           | not null | false                              | plain    |              | 
 want_they         | boolean |           | not null | false                              | plain    |              | 
 use_he            | boolean |           | not null | false                              | plain    |              | 
 use_she           | boolean |           | not null | false                              | plain    |              | 
 use_they          | boolean |           | not null | false                              | plain    |              | 
Indexes:
    "users_pkey1" PRIMARY KEY, btree (id)
    "users_email_key" UNIQUE CONSTRAINT, btree (email)
    "users_utln_key" UNIQUE CONSTRAINT, btree (utln)
Referenced by:
    TABLE "profiles" CONSTRAINT "profiles_user_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE


```
```
                                                     Table "public.relationships"
        Column        |            Type             | Collation | Nullable |      Default      | Storage | Stats target | Description 
----------------------+-----------------------------+-----------+----------+-------------------+---------+--------------+-------------
 critic_user_id       | integer                     |           | not null |                   | plain   |              | 
 candidate_user_id    | integer                     |           | not null |                   | plain   |              | 
 liked                | boolean                     |           | not null | false             | plain   |              | 
 blocked              | boolean                     |           | not null | false             | plain   |              | 
 last_swipe_timestamp | timestamp with time zone    |           | not null |                   | plain   |              | 
 created_at           | timestamp without time zone |           | not null | CURRENT_TIMESTAMP | plain   |              | 
Indexes:
    "pk_critic_candidate" PRIMARY KEY, btree (critic_user_id, candidate_user_id)
Foreign-key constraints:
    "relationships_candidate_user_id_fkey" FOREIGN KEY (candidate_user_id) REFERENCES profiles(id) ON DELETE CASCADE
    "relationships_critic_user_id_fkey" FOREIGN KEY (critic_user_id) REFERENCES profiles(id) ON DELETE CASCADE


```
```
                                                          Table "public.pgmigrations"
 Column |            Type             | Collation | Nullable |                 Default                  | Storage  | Stats target | Description 
--------+-----------------------------+-----------+----------+------------------------------------------+----------+--------------+-------------
 id     | integer                     |           | not null | nextval('pgmigrations_id_seq'::regclass) | plain    |              | 
 name   | character varying(255)      |           | not null |                                          | extended |              | 
 run_on | timestamp without time zone |           | not null |                                          | plain    |              | 
Indexes:
    "pgmigrations_pkey" PRIMARY KEY, btree (id)


```
```
                                                             Table "public.verification_codes"
     Column      |           Type           | Collation | Nullable |                    Default                     | Storage  | Stats target | Description 
-----------------+--------------------------+-----------+----------+------------------------------------------------+----------+--------------+-------------
 id              | integer                  |           | not null | nextval('verification_codes_id_seq'::regclass) | plain    |              | 
 utln            | citext                   |           | not null |                                                | extended |              | 
 code            | character varying(6)     |           | not null |                                                | extended |              | 
 expiration      | timestamp with time zone |           | not null | CURRENT_TIMESTAMP                              | plain    |              | 
 attempts        | integer                  |           | not null | 0                                              | plain    |              | 
 email_sends     | integer                  |           | not null | 1                                              | plain    |              | 
 last_email_send | timestamp with time zone |           | not null | CURRENT_TIMESTAMP                              | plain    |              | 
 email           | citext                   |           | not null | ''::character varying                          | extended |              | 
Indexes:
    "verification_codes_pkey" PRIMARY KEY, btree (id)
    "verification_codes_utln_key" UNIQUE CONSTRAINT, btree (utln)


```
```
                                                         Table "public.profiles"
    Column    |          Type          | Collation | Nullable |              Default              | Storage  | Stats target | Description 
--------------+------------------------+-----------+----------+-----------------------------------+----------+--------------+-------------
 id           | integer                |           | not null | nextval('users_id_seq'::regclass) | plain    |              | 
 display_name | character varying(100) |           | not null |                                   | extended |              | 
 user_id      | integer                |           | not null |                                   | plain    |              | 
 birthday     | date                   |           | not null |                                   | plain    |              | 
 image1_url   | text                   |           | not null |                                   | extended |              | 
 image2_url   | text                   |           |          |                                   | extended |              | 
 image3_url   | text                   |           |          |                                   | extended |              | 
 image4_url   | text                   |           |          |                                   | extended |              | 
 bio          | text                   |           | not null | ''::text                          | extended |              | 
Indexes:
    "users_pkey" PRIMARY KEY, btree (id)
    "profiles_user_key" UNIQUE CONSTRAINT, btree (user_id)
Foreign-key constraints:
    "profiles_user_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
Referenced by:
    TABLE "relationships" CONSTRAINT "relationships_candidate_user_id_fkey" FOREIGN KEY (candidate_user_id) REFERENCES profiles(id) ON DELETE CASCADE
    TABLE "relationships" CONSTRAINT "relationships_critic_user_id_fkey" FOREIGN KEY (critic_user_id) REFERENCES profiles(id) ON DELETE CASCADE


```
